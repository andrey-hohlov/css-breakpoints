!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).MediaBreakpoints=t()}(this,function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u;return function(){function i(t){var e=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),u)return u;u=u||this;var n=Object.keys(t);return this.matched=[],this.current=null,this.breakpoints=n.reduce(function(e,t){return e[t]=t,e},{}),this.$flow=n.map(function(e){return{name:e,minWidth:t[e]}}).sort(function(e,t){return e.minWidth-t.minWidth}),this.$listeners=[],this.onResize(),this.emit(),this.throttledOnResize=function(r,u){var s=null;return function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s=s||(s||setTimeout(function(){r.apply(e,n),s=null},u))}}(function(){return e.onResize()},300),"undefined"!=typeof window&&window.addEventListener("resize",this.throttledOnResize),u}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"destroy",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.throttledOnResize),u=null}},{key:"onResize",value:function(){if("undefined"!=typeof window){var t=[];this.$flow.forEach(function(e){window.matchMedia("(min-width: ".concat(e.minWidth,"px)")).matches&&t.push(e.name)}),t.join(",")!==this.matched.join(",")&&(this.matched=t,this.current=this.matched[this.matched.length-1],this.emit())}}},{key:"getBpFlowIndex",value:function(t){return this.$flow.findIndex(function(e){return e.name===t})}},{key:"is",value:function(e){return e===this.current}},{key:"isUp",value:function(e){return!!e&&-1!==this.matched.indexOf(e)}},{key:"isDown",value:function(e){if(!e)return!1;var t=this.matched[this.matched.length-1];if(!t)return!1;var n=this.getBpFlowIndex(e);return-1!==n&&this.getBpFlowIndex(t)-n<0}},{key:"isBetween",value:function(e,t){return this.isUp(e)&&this.isDown(t)}},{key:"getState",value:function(){return{current:this.current,matched:this.matched}}},{key:"emit",value:function(){var t=this;this.$listeners.forEach(function(e){return e(t.getState())})}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("Handler must be function");return this.$listeners.includes(e)||this.$listeners.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$listeners.indexOf(e);-1<t&&this.$listeners.splice(t,1)}}]),i}()});
