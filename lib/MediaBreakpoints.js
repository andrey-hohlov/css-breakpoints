!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).MediaBreakpoints=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onResize=this.onResize.bind(this);var n=Object.keys(e);this.$flow=n.map((function(t){return{name:t,minWidth:e[t]}})).sort((function(e,t){return e.minWidth-t.minWidth})),this.$listeners=[],this.matched=[],this.current=null,this.breakpoints=n.reduce((function(e,t){return e[t]=t,e}),{}),this.flow=this.$flow.map((function(e){return e.name})),this.onResize(),this.emit(),this.setEvents(!0)}var n,i,s;return n=t,(i=[{key:"destroy",value:function(){this.setEvents(!1)}},{key:"setEvents",value:function(e){"undefined"!=typeof window&&window["".concat(e?"add":"remove","EventListener")]("resize",this.onResize)}},{key:"onResize",value:function(){if("undefined"!=typeof window){var e=[];this.$flow.forEach((function(t){window.matchMedia("(min-width: ".concat(t.minWidth,"px)")).matches&&e.push(t.name)})),e.join(",")!==this.matched.join(",")&&(this.matched=e,this.current=this.matched[this.matched.length-1],this.emit())}}},{key:"getBpFlowIndex",value:function(e){return this.$flow.findIndex((function(t){return t.name===e}))}},{key:"is",value:function(e){return e===this.current}},{key:"isUp",value:function(e){return!!e&&-1!==this.matched.indexOf(e)}},{key:"isDown",value:function(e){if(!e)return!1;var t=this.matched[this.matched.length-1];if(!t)return!1;var n=this.getBpFlowIndex(e);return-1!==n&&this.getBpFlowIndex(t)-n<0}},{key:"isBetween",value:function(e,t){return this.isUp(e)&&this.isDown(t)}},{key:"getState",value:function(){return{current:this.current,matched:this.matched}}},{key:"emit",value:function(){var e=this;this.$listeners.forEach((function(t){return t(e.getState())}))}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("Handler must be function");return this.$listeners.includes(e)||this.$listeners.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$listeners.indexOf(e);t>-1&&this.$listeners.splice(t,1)}}])&&e(n.prototype,i),s&&e(n,s),t}()}));
